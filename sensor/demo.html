<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Sensor Demo</title>
</head>

<body>

<h4>Orientation</h4>
<ul>
    <li>X: <span id="Orientation_b">0</span></li>
    <li>Y: <span id="Orientation_g">0</span></li>
    <li>Z: <span id="Orientation_a">0</span></li>
</ul>

<script>

    function handleOrientation(event) {
        updateFieldIfNotNull('Orientation_a', event.alpha);
        updateFieldIfNotNull('Orientation_b', event.beta);
        updateFieldIfNotNull('Orientation_g', event.gamma);
    }

    function updateFieldIfNotNull(fieldName, value, precision=10){
        if (value != null)
            document.getElementById(fieldName).innerHTML = value.toFixed(precision);
    }

    // Request permission for iOS 13+ devices
    if (
        DeviceMotionEvent &&
        typeof DeviceMotionEvent.requestPermission === "function"
    ) {
        DeviceMotionEvent.requestPermission();
    }
    addEventListener("deviceorientation", handleOrientation);        

</script>
</body>
</html>